---
title: 行为型模式学习笔记
date: 2017-05-24 15:59:43
tags:
	- 设计模式
---
行为模式关注的重点是`算法`与`对象`之间的职责是如何进行分配的。行为模式通常都对类或者对象相互之间的通信形式进行描述。通常，行为模式都是依赖于`继承机制`在类之间分派行为的。
<!--more-->
## 模版方法模式
定义：定义一个操作中的算法的骨架，而将一些步骤延迟到子类中。使子类可以在不改变一个算法结构即可重新定义该算法的某些特定步骤。

一个特别简单的设计模式，就是用到了抽象一个类的可变部分和不可变部分，直接使用继承去添加新的方法。以子类作为实现类
### 模式结构
### 适用范围
* 一次性的实现一个算法不变的部分，而将可变部分的行为留给子类去实现。
* 当子类中有公共的行为可以提取到公共的父类中去，并且子类有自己的“个性化要求”时。
* 适用于模版方法模式的情形，一般子类需要扩展的地方都是固定的（允许这些点进行扩展）。


## 策略模式
定义：定义了算法家族，并且把他们分别封装起来，让其可以相互替换。让算法的变化不会影响到使用这个算法的客户。


制作很多的程序块，让调用端去确定他们使用那一个。
### 模式结构
### 适用范围
* 很多相关的类只在行为上有差异
* 当需要使用一个算法的不同变体时
* 使用算法的客户不应该知道算法的具体结构时
* 当一个类定义多种行为并且这些行为在这个类的操作中以多个条件语句的形式 出现。
## 状态模式
定义：当一个对象内在状态改变时允许改变其行为，这个对象看起来像是改变了其类。

比如火车的速度快了就要降速 速度降下来了 就慢了需要提高速度 这种变化就需要状态模式的思想。
### 模式结构
### 适用范围
* 当一个对象的行为取决于他的状态并且必须在运行时刻根据状态来改变自己的行为时。
* 当一个操作中含有大量的分支语句，并且这些分支都依赖于该对像的状态时。


## 观察者模式
定义：定义了一种一对多的依赖关系，让多个观察者对象同时监听某一个主题对象。朱挺对象状态变化时，会通知所有观察者对象，是它们能够自动更新自己的状态。
### 模式结构
### 适用范围
* 当一个抽象模型有两个方面，而其中一个方面必须依赖于另一个方面时。
* 当一个对象的改变需要同时改变其他对象但是却不知道具体有多少个对象等待改变时。
* 当一个对象必须通知其他对象但是却不能与其他对象造成紧密的耦合时。


## 备忘录模式
定义： 在不破坏封装性的前提下，捕获一个对象的内部状态，并且该对象之外保存这个状态。（就可以恢复原有的状态backup）
### 模式结构
### 适用范围
* 当必须保存一个对象在某个时刻的全部或者部分状态时，为了以后的恢复。
* 当使用接口让其他对象直接得到自己的状态会暴露对象的实现细节、继而破坏其封装性时。（感觉这种我从来没遇到过）


## 中介模式（多对多）
定义：中介模式用一个中介对象来封装一系列的对象交互。它使各个对象不需要显示的相互引用，可以独立的改变他们的交互方式（在中间做一下第三方操作）。
### 模式结构
### 适用范围
* 当一组对象以定义良好但是复杂的方式进行通信时，所产生的相互依赖关系结构混乱
* 当一个对象要引用很多其他的对象，并且直接与这些对象进行通信导致难以复用该对象。（自己感觉有点臃肿）
* 当开发人员想要定制一个分布在多个类中的行为但是却不想生成太多的子类时。


## 命令模式
定义：将一个**请求封装为一个对象**，从而使编程者可用不同的请求对客户进行参数化；对请求排队或者记录请求日志，以及支持可撤销的操作。
### 模式结构
### 适用范围
* 当需要抽象出待执行的动作以便参数化某个对象时。（把命令进行保存）
* 当需要在不同的时刻执行、排队以及执行请求时。
* 当系统需要支持取消操作时。
* 当系统需要记录修改日志时。


## 访问者模式
定义:表示一个作用于某对象结构中的各元素的操作。它使得操作者可以在不改变各元素的类的前题下定义作用于这些元素的新操作。
### 模式结构
### 适用范围
* 当对象结构包含有很多类对象，但是他们有不同的接口，并且开发人员希望对这些对象实施一些依赖于其具体类的操作时。
* 当需要对一个对象结构中的对象进行很多不同的并且不相关的操作时。
* 当该对象结构被很多应用共享时。


## 责任链模式
定义：使多个对象都有机会处理请求，从而避免请求的发送者 和接受者之间的耦合关系。将这个对象连成一条链，并沿着这条链传递该请求，直到有一个对象处理它为止。
### 模式结构
### 适用范围
* 当有多个对象可以处理同一个请求，而具体那个对象来处理这个请求在运行时刻需要自动判定时。
* 当需要在不明确接受者的情况下向多个对象中的某一个请求提交时。
* 当 处理一个请求的对象集合应该动态地被确定时。

## 迭代器模式
定义： 提供一种方法顺序访问一个聚合对象中的各个元素，而又不是暴露该对象的内部表示。


### 模式结构
### 适用范围
* 当需要访问一个聚合对象的内容而又不想暴露内部实现。
* 当希望支持对聚合对象的多种遍历方式时。
* 当需要为遍历不同的聚集结构提供统一的对外接口时。


## 解释器模式
定义： 通过定义语言的文法，并且建立解释器来解释该语言中的句子。

主要有四个角色：
* 公共父类：所有的终结符表达式和非终结符表达式的公共类
* 终结符表达式的类
* 非终结符表达式的类
* 环境类，（上下文类），存储解释器之外的全局信息。


### 模式结构
### 适用范围
当有语言需要被解释进而执行的时候，并且可以将该语言中的句子表示为一个抽象的语法树的时候。
